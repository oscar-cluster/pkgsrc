<!DOCTYPE article PUBLIC " -//OASIS//DTD DocBook V3.1//EN" "http://oasis-open.org/docbook/xml/4.2/docbookx.dtd">

<article class="whitepaper" id="documentation" lang="en">

<artheader> <title>OSCAR Package Compiler Manual</title>

<author>

<firstname>Geoffroy</firstname>
<surname>Vallee</surname>

<affiliation>
<address><email>valleegr@ornl.gov</email></address>
</affiliation>
</author>

</artheader>

<sect1><title>Architecture</title>
<sect2><title>Creation Binary Packages Configuration Files for Specific Linux Distributions</title>
<para>
OSCAR package configuration files (<emphasis>config.xml</emphasis>) may integrate filter for the specification of parameters for different Linux distribution. For instance, it is possible to specify that the OPKG lam-oscar depends on Red Hat Entreprise Linux on the <emphasis>lam-mpi</emphasis> RPM, whereas on Mandriva, it depends on the <emphasis>lam</emphasis> RPM. 
The OPKGC should then allows developers to specify the Linux distribution for which they want to generate binary packages (for instance using a command such as <emphasis>opkgc -rpm="rhel" config.xml</emphasis>).
The specification of such dependences in the confiugration files disable the capability to have one single generic XSL template for the generation of binary packages.
</para>
<para>
Typically the way to deal with such a solution is to set a parameter when compiling an OPKC; paramater that gives the target Linux distribution. The standard mechanism for the implementation of such a solution is to combine XSLT stylesheets. A first stylesheet give a generic template and a second template define a constant (a parameter in the XSLT terminology) defining the target Linux distribution. Therefore when combining the two stylesheets, the final stylesheets includes both the generic template and a variable that sets the target Linux distribution. Therefore, only the stylesheet defining the variable for the specification of the target Linux distribution must be dynamically generated based on the OPKGC parameters (simple task).
</para>
</sect2>
</sect1>
</article>

